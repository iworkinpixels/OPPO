#!/usr/bin/env python3

import numpy as np
from scipy.io import wavfile

sampleRate = 44100
frequency = 440
length = 5

sine = [0.0,0.024541,0.049068,0.073565,0.098017,0.122411,0.14673,0.170962,0.19509,0.219101,0.24298,0.266713,0.290285,0.313682,0.33689,0.359895,0.382683,0.405241,0.427555,0.449611,0.471397,0.492898,0.514103,0.534998,0.55557,0.575808,0.595699,0.615232,0.634393,0.653173,0.671559,0.689541,0.707107,0.724247,0.740951,0.757209,0.77301,0.788346,0.803208,0.817585,0.83147,0.844854,0.857729,0.870087,0.881921,0.893224,0.903989,0.91421,0.92388,0.932993,0.941544,0.949528,0.95694,0.963776,0.970031,0.975702,0.980785,0.985278,0.989177,0.99248,0.995185,0.99729,0.998795,0.999699,1.0,0.999699,0.998795,0.99729,0.995185,0.99248,0.989177,0.985278,0.980785,0.975702,0.970031,0.963776,0.95694,0.949528,0.941544,0.932993,0.92388,0.91421,0.903989,0.893224,0.881921,0.870087,0.857729,0.844854,0.83147,0.817585,0.803208,0.788346,0.77301,0.757209,0.740951,0.724247,0.707107,0.689541,0.671559,0.653173,0.634393,0.615232,0.595699,0.575808,0.55557,0.534998,0.514103,0.492898,0.471397,0.449611,0.427555,0.405241,0.382683,0.359895,0.33689,0.313682,0.290285,0.266713,0.24298,0.219101,0.19509,0.170962,0.14673,0.122411,0.098017,0.073565,0.049068,0.024541,0.0,-0.024541,-0.049068,-0.073565,-0.098017,-0.122411,-0.14673,-0.170962,-0.19509,-0.219101,-0.24298,-0.266713,-0.290285,-0.313682,-0.33689,-0.359895,-0.382683,-0.405241,-0.427555,-0.449611,-0.471397,-0.492898,-0.514103,-0.534998,-0.55557,-0.575808,-0.595699,-0.615232,-0.634393,-0.653173,-0.671559,-0.689541,-0.707107,-0.724247,-0.740951,-0.757209,-0.77301,-0.788346,-0.803208,-0.817585,-0.83147,-0.844854,-0.857729,-0.870087,-0.881921,-0.893224,-0.903989,-0.91421,-0.92388,-0.932993,-0.941544,-0.949528,-0.95694,-0.963776,-0.970031,-0.975702,-0.980785,-0.985278,-0.989177,-0.99248,-0.995185,-0.99729,-0.998795,-0.999699,-1.0,-0.999699,-0.998795,-0.99729,-0.995185,-0.99248,-0.989177,-0.985278,-0.980785,-0.975702,-0.970031,-0.963776,-0.95694,-0.949528,-0.941544,-0.932993,-0.92388,-0.91421,-0.903989,-0.893224,-0.881921,-0.870087,-0.857729,-0.844854,-0.83147,-0.817585,-0.803208,-0.788346,-0.77301,-0.757209,-0.740951,-0.724247,-0.707107,-0.689541,-0.671559,-0.653173,-0.634393,-0.615232,-0.595699,-0.575808,-0.55557,-0.534998,-0.514103,-0.492898,-0.471397,-0.449611,-0.427555,-0.405241,-0.382683,-0.359895,-0.33689,-0.313682,-0.290285,-0.266713,-0.24298,-0.219101,-0.19509,-0.170962,-0.14673,-0.122411,-0.098017,-0.073565,-0.049068,-0.024541]

def sineIndex(f, t):
    global sine

    p = 1/44100.0
    tl = 256
    tp = 2 * np.pi

    i = tl * (((f * t * tp) % tp) / tp)
    i = round(i)
    return sine[int(i) - 1]

si = np.vectorize(sineIndex)

t = np.linspace(0, length, sampleRate * length)  #  Produces a 5 second Audio-File
#y = np.sin(frequency * 2 * np.pi * t)  #  Has frequency of 440Hz
y = si(440.0, t)

wavfile.write('Sine.wav', sampleRate, y)
